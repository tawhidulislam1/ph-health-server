model Speciality {
    id          String   @id @default(uuid(7))
    title       String?  @db.Text
    description String?  @db.Text
    icon        String?  @db.VarChar(255)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt

    idDeleted          Boolean            @default(false)
    deletedAtd         DateTime?
    doctorSpecialities DoctorSpeciality[]

    @@index([idDeleted], name: "idx_speciality_isDeleted")
    @@index([title], name: "idx_speciality_title")
    @@map("specilaties")
}

model DoctorSpeciality {
    id          String     @id @default(uuid(7))
    doctorId    String
    specialtyId String
    doctor      Doctor     @relation(fields: [doctorId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    specialty   Speciality @relation(fields: [specialtyId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    @@unique([doctorId, specialtyId])
    @@index([doctorId], name: "idx_doctor_speciality_doctorId")
    @@index([specialtyId], name: "idx_doctor_speciality_specialtyId")
    @@map("doctor_speciality")
}
